(this["webpackJsonpreact-reserver-example"]=this["webpackJsonpreact-reserver-example"]||[]).push([[0],{21:function(e,t,n){e.exports=n(36)},22:function(e,t,n){},23:function(e,t,n){},28:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);n(22),n(23);var a=n(0),l=n.n(a),r=n(16),o=n.n(r),c=n(6),i=n(2);n(28);var s="import React from 'react'\nimport 'react-reserver/dist/index.css'\nimport Reserver, { Bar, useReserver, reserverReducer,createBar, getPosition, resizeBar } from 'react-reserver'\n\n\nexport default function Basic(props) {\n\n    const { bars, addBar, setBars } = useReserver(reserverReducer, [])    \n    return <Reserver \n        mouseDownCell={(props) => {\n            const newbar = createBar(props.dimension, props.cell);\n            addBar(newbar)\n        }}\n        mouseEnterCell={(props) => {\n            const nBars = resizeBar(bars, props)\n            setBars(nBars)\n        }}\n        mouseUpCell={() => {  \n            const dBars = bars.map((bar) => {\n                if (bar.editing) {\n                    return { ...bar, editing: false }\n                }\n                return bar;\n            })\n            setBars(dBars)\n        }}\n    >\n        {\n            bars.map((bar) => { return <Bar key={bar.id} {...bar} style={{ ...getPosition(bar.row, bar.column, bar.dimension) }} /> })\n        }\n    </Reserver>\n\n}",d=n(3);function m({stroke:e,togglelines:t,copyCode:n}){const a="bg-transparent   text-blue-700 font-semibold hover:text-white py-2 px-4 border border-transparent hover:border-orange-500 rounded";return l.a.createElement("div",{className:"copy-code-button absolute"},l.a.createElement("button",{onClick:n,className:a},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-copy",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:e,fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("rect",{x:"8",y:"8",width:"12",height:"12",rx:"2"}),l.a.createElement("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"}))),l.a.createElement("button",{onClick:t,className:a},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-eye",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:e,fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},l.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),l.a.createElement("circle",{cx:"12",cy:"12",r:"2"}),l.a.createElement("path",{d:"M2 12l1.5 2a11 11 0 0 0 17 0l1.5 -2"}),l.a.createElement("path",{d:"M2 12l1.5 -2a11 11 0 0 1 17 0l1.5 2"}))))}var u=n(13),b=n(19),p=n(18),g=n(17),h=n.n(g);function E(e){const t=Object(a.useState)(e.showLines),n=Object(d.a)(t,2),r=n[0],o=n[1];return l.a.createElement("div",{className:"relative"},l.a.createElement(m,{stroke:"jsx"===e.language?"#fff":"#000",copyCode:()=>{h()(e.code)},togglelines:()=>{o(!r)}}),l.a.createElement(u.a,Object.assign({},u.b,{theme:"jsx"==e.language?p.a:b.a,code:e.code,language:e.language}),({className:e,style:t,tokens:n,getLineProps:a,getTokenProps:o})=>l.a.createElement("pre",{className:e,style:t},n.map((e,t)=>l.a.createElement("div",a({line:e,key:t}),r&&l.a.createElement("span",{style:{paddingRight:"10px"}},t+1),e.map((e,t)=>l.a.createElement("span",o({token:e,key:t}))))))))}var f=function(e){return l.a.createElement("p",{className:"p-5"},e.children)};function w(e){return l.a.createElement(c.b,{to:e.href,className:"h-9 font-bold py-2 px-4 rounded bg-orange-500 text-white hover:bg-orange-700"},e.text)}var v=function(e){return l.a.createElement("div",{className:"flex items-center"},l.a.createElement("h1",{className:"text-5xl mx-10 my-5 border-b-2 border-orange-400 pb-2"},e.children),e.next&&l.a.createElement(w,{href:e.next.href,text:"Next: ".concat(e.next.name)}))};var y=function(e){let t="justify-between";return e.previous||(t="justify-end"),l.a.createElement("div",{className:"flex ".concat(t," p-4")},e.previous&&l.a.createElement(w,{text:"Previous: ".concat(e.previous.name),href:e.previous.href}),e.next&&l.a.createElement(w,{text:"Next: ".concat(e.next.name),href:e.next.href}))},x=n(9),O=n.n(x);function j(e){return console.log(e),l.a.createElement("div",null,l.a.createElement(v,{next:e.next},"Getting Started"),l.a.createElement(f,null,"So you want to ",l.a.createElement("b",null,"add")," the component to your project. Like all components start with installation."),l.a.createElement("div",null,l.a.createElement(E,{language:"bash",code:"\nyarn add react-reserver\nor\nnpm install react-reserver\n"})),l.a.createElement(f,null,"Add the following code"),l.a.createElement("div",{className:"mb-10"},l.a.createElement(E,{language:"jsx",code:s})),l.a.createElement(f,null,"And thats it!",l.a.createElement("br",null),"Now you should be able to click and drag across the grid to create new bars",l.a.createElement("img",{src:O.a})),l.a.createElement(y,{previous:e.previous,next:e.next}))}var C=n(1),k="_style__row_cell__3TtXw",N="_style__row_cell_invisible__2fzm0",B="_style__row__32f2G",D="_style__row_invisible__kbpmo";function T(e=15){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}const _=(e,t,n)=>n>=e&&t>=n;function R(e){return!(!Number.isInteger(e)||e<0)}function S(e,t,n,a=0,l=0){return{left:a+t*n,top:e*n+l}}function M(e,t){return e.map(e=>{if(e.editing){const n=function(e,t){if(!R(e.column))throw new Error("firstPosition.column expected an integer received ".concat(e.column));if(!R(e.row))throw new Error("firstPosition.row expected an integer received ".concat(e.row));if(!R(t.column))throw new Error("secondPosition.column expected an integer received ".concat(t.column));return{row:e.row,column:e.column,length:t.column-e.column+1}}({column:e.column,row:e.row},t.cell);return Object(C.a)(Object(C.a)({},e),n)}return e})}const A={add:"ADD",edit:"EDIT",delete:"DELETE",addToEditing:"ADD_TO_EDITING",doneEditing:"DONE_EDITING",setBars:"SET_BARS"};const I=(e,t)=>((e=z(e)).collisions[t.id]="",(t=z(t)).collisions[e.id]="",[e,t]),z=e=>(e.collisions||(e.collisions={}),e),G=(e,t)=>(delete(e=z(e)).collisions[t.id],delete(t=z(t)).collisions[e.id],[e,t]);function P(e,t){switch(t.type){case A.edit:{const n=[...e.bars],a=n.findIndex(e=>t.payload.id===e.id),l=[...n];l.splice(a,1);const r=function(e,t){let n=Object(C.a)({},t);return[e.map(e=>{if(n.row!==e.row){const t=G(e,n),a=Object(d.a)(t,2),l=a[0],r=a[1];return n=r,l}{const t=e.column+1,a=n.column+1,l=e.column+e.length,r=n.column+n.length;if(_(t,l,a)||_(t,l,r)||_(a,r,l)||_(a,r,t)){const t=I(e,n),a=Object(d.a)(t,2),l=a[0],r=a[1];return n=r,l}}}),n]}(l,t.payload),o=Object(d.a)(r,2),c=o[0],i=o[1];return c.push(i),Object(C.a)(Object(C.a)({},e),{},{bars:c})}case A.add:{const n=[...e.bars];return n.push(t.payload),Object(C.a)(Object(C.a)({},e),{},{bars:n,isEditing:!0})}case A.setBars:return Object(C.a)(Object(C.a)({},e),{},{bars:t.payload});case A.delete:{const n=[...e.bars],a=n.findIndex(e=>t.payload.id===e.id);return n.splice(a,1),Object(C.a)(Object(C.a)({},e),{},{bars:n})}case A.doneEditing:if(e.isEditing){let t=[...e.bars];return t=t.map(e=>{if(e.editing){const t=Object(C.a)({},e.style);return t.pointerEvents="auto",Object(C.a)(Object(C.a)({},e),{},{editing:!1,style:t})}return e}),Object(C.a)(Object(C.a)({},e),{},{bars:t,isEditing:!1})}return e;case A.mouseDragOver:return Object(C.a)({},e);default:return console.log("Unhandled type: ".concat(t.type)),e}}function W(e,t){const n=Object(a.useReducer)(e,{bars:t,isEditing:!1}),l=Object(d.a)(n,2),r=l[0],o=r.bars,c=r.isEditing,i=l[1];return{isEditing:c,setIsEditing:e=>i({payload:e,type:A.setEditing}),bars:o,addBar:e=>i({payload:e,type:A.add}),editBar:e=>i({payload:e,type:A.edit}),deleteBar:e=>i({payload:e,type:A.delete}),setBars:e=>(console.log(e),i({payload:e,type:A.setBars}))}}function L(e){return l.a.createElement("div",{role:"listitem",onDragStart:e.onDragStart,onClick:t=>{e.onClick(t,e)},onMouseOver:t=>{e.onMouseOver(t,e)},onContextMenu:t=>{e.onContextMenu(t)},draggable:e.draggable,style:Object(C.a)(Object(C.a)({},e.style),{},{pointerEvents:e.style.pointerEvents||"none",background:e.style.background||"#0E6BA8",display:"flex",position:"absolute",zIndex:e.zIndex||"100"}),className:e.className},[...Array(e.length&&e.length>0?e.length:1)].map((t,n)=>l.a.createElement("div",{key:n,style:{width:e.dimension,height:e.dimension,pointerEvents:e.style.pointerEvents||"none"}})),e.children)}function U(e){const t=Object(a.useState)([]),n=Object(d.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)(()=>{"function"===typeof e.headRow?o(e.headRow(e.columnCount)):Array.isArray(e.headRow)&&o(e.headRow)},[e.headRow,e.columnCount]),l.a.createElement("div",{role:"columnheader",className:r.length>0?B:D,style:{height:e.dimension}},l.a.createElement("div",{className:k,style:{width:e.rowTitleWidth,height:e.dimension+"px"}}),r.map((t,n)=>l.a.createElement("div",{"aria-colindex":n,key:n,style:{width:e.dimension+"px",height:e.dimension+"px"},className:k},t)))}function H(e){const t=Object(a.useState)([]),n=Object(d.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(0),i=Object(d.a)(c,2),s=i[0],m=i[1],u=Object(a.useState)(0),b=Object(d.a)(u,2),p=b[0],g=b[1];return Object(a.useEffect)(()=>{var t,n,a;g((t=e.dimension,n=e.width,a=e.rowTitleWidth,Math.floor((n-a)/t)))},[e.width,e.dimension]),Object(a.useEffect)(()=>{var t,n;m((t=e.dimension,n=e.height,Math.floor(n/t)))},[e.height,e.dimension]),Object(a.useEffect)(()=>{"function"===typeof e.rowTitles?o(e.rowTitles()):Array.isArray(e.rowTitles)&&o(e.rowTitles)},[e.rowTitles]),l.a.createElement("div",{role:"grid",onMouseLeave:e.mouseLeaveGrid,style:Object(C.a)(Object(C.a)({},e.style),{},{position:"relative"})},l.a.createElement(U,{headRow:e.headRow,columnCount:p,rowTitleWidth:e.rowTitleWidth,dimension:e.dimension}),[...Array(s)].map((t,n)=>l.a.createElement("div",{role:"rowgroup",className:B,key:n,style:{height:e.dimension,display:"flex"}},l.a.createElement("div",{className:r.length>0?k:N,style:{width:e.rowTitleWidth,height:e.dimension+"px"}},r[n]),[...Array(p)].map((t,a)=>l.a.createElement("div",{role:"gridcell","aria-colindex":a,onDragOver:t=>{t.preventDefault(),e.mouseDragOverCell({cell:{row:n,column:a}},t)},className:k,onMouseEnter:t=>{e.mouseEnterCell({dimension:e.dimension,cell:{row:n,column:a}},t)},onMouseDown:t=>{e.mouseDownCell({dimension:e.dimension,cell:{row:n,column:a}},t)},onMouseUp:t=>{e.mouseUpCell({cell:{row:n,column:a}},t)},onDrop:t=>{e.mouseCellDrop({cell:{row:n,column:a}},t)},style:{width:e.dimension+"px",height:e.dimension+"px"},key:a},e.content["r".concat(n,"c").concat(a)])))),l.a.createElement("div",{role:"list"},"function"===typeof e.children&&e.children({rowCount:s,columnCount:p,rowTitleWidth:e.rowTitleWidth,dimension:e.dimension,rowTitleHeight:r.length>0?e.dimension:0}),Array.isArray(e.children)&&e.children))}function q(e,t){return Object(C.a)(Object(C.a)({id:T(),dimension:e,editing:!0},t),{},{length:1})}L.defaultProps={style:{},dimension:20,onClick:()=>{},onMouseOver:()=>{},onDragStart:()=>{},onContextMenu:()=>{},length:1},H.defaultProps={initBars:[],bars:[],tags:[],headRow:[],rowTitles:[],content:{},dimension:20,width:500,height:500,rowTitleWidth:0,mouseEnterCell:()=>{},mouseDownCell:()=>{},mouseUpCell:()=>{},mouseDragOverCell:()=>{},mouseCellDrop:()=>{},mouseLeaveGrid:()=>{}};var J=H;function X(e){return l.a.createElement("span",{style:{background:"#011627",color:"#ff585b",padding:"4px",borderRadius:"8px"}}," ",e.children)}function F(e){const t=W(P,[]),n=t.bars,a=t.addBar,r=t.setBars;return l.a.createElement("div",null,l.a.createElement(v,{next:e.next},"Basic Example"),l.a.createElement(f,null,"This is the most basic example.",l.a.createElement("br",null),"A grid, 500px wide and 500px high is created, since those are the default props.",l.a.createElement("br",null),"Click and drag on any square in the grid to create a new bar."),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(J,{onContextMenu:()=>{console.log("ass")},mouseDownCell:e=>{const t=q(e.dimension,e.cell);a(t)},mouseEnterCell:e=>{const t=M(n,e);r(t)},mouseUpCell:()=>{const e=n.map(e=>e.editing?Object(C.a)(Object(C.a)({},e),{},{editing:!1}):e);r(e)}},n.map(e=>l.a.createElement(L,Object.assign({key:e.id},e,{style:Object(C.a)({},S(e.row,e.column,e.dimension))}))))),l.a.createElement(E,{language:"jsx",code:s}),l.a.createElement(f,null,"So what are we seeing here? (toggle the line codes to follow)",l.a.createElement("br",null),"On line 3 we import ",l.a.createElement(X,null,"Reserver")," which is our main component,",l.a.createElement("br",null),l.a.createElement(X,null,"useReserver")),l.a.createElement(y,{previous:e.previous,next:e.next}))}function Y(e){const t=W(P,[]),n=t.bars,a=t.addBar,r=t.setBars;return l.a.createElement("div",null,l.a.createElement(v,null,"Column Title Example"),l.a.createElement(f,null,"This is the most basic example.",l.a.createElement("br",null),"A grid, 500px wide and 500px high is created, since those are the default props.",l.a.createElement("br",null),"Click and drag on any square in the grid to create a new bar."),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(J,{style:{margin:"0 auto"},mouseDownCell:e=>{const t=q(e.dimension,e.cell);a(t)},mouseEnterCell:e=>{const t=M(n,e);r(t)},mouseUpCell:()=>{const e=n.map(e=>e.editing?Object(C.a)(Object(C.a)({},e),{},{editing:!1}):e);r(e)}},n.map(e=>l.a.createElement(L,Object.assign({key:e.id},e,{style:Object(C.a)({},S(e.row,e.column,e.dimension))}))))))}const K=[{draggable:!0,id:"xx",length:13,row:2,column:8,className:"default-bar",children:"This is a tag"},{id:"xy",length:4,row:5,column:12,style:{background:"red"}}];function Q(e){return l.a.createElement("div",{className:e.className,style:{display:e.visible?"block":"none",position:"absolute",left:e.left,top:e.top,zIndex:e.zIndex||1e4}},l.a.createElement("ul",null,"  ",e.children))}const V=e=>l.a.createElement("li",{onClick:e.onClick},e.children);Q.defaultProps={visible:!1,left:0,top:0};n(35);function Z(e){const t=Object(a.useState)({r0c0:l.a.createElement("span",{style:{background:"green",width:"20px",height:"20px",display:"block"}}),r2c1:l.a.createElement("span",{style:{fontSize:"10px"}},"150")}),n=Object(d.a)(t,2),r=n[0],o=(n[1],Object(a.useState)(["Golf Cart 1",null,"Golf Cart 2"])),c=Object(d.a)(o,2),i=c[0],s=c[1],m=W(P,K),u=m.addBar,b=m.editBar,p=(m.isEditing,m.deleteBar),g=m.bars,h=m.setBars,E=Object(a.useState)({}),f=Object(d.a)(E,2),w=f[0],v=f[1],y=Object(a.useState)({visibile:!1,top:0,left:0}),x=Object(d.a)(y,2),O=x[0],j=x[1],k=Object(a.useState)(80),N=Object(d.a)(k,1)[0],B=Object(a.useState)(500),D=Object(d.a)(B,1)[0],T=Object(a.useState)(25),_=Object(d.a)(T,1)[0];return console.log(g),l.a.createElement("div",null,l.a.createElement(J,{style:{display:"inline-block"},rowTitles:()=>i.map((e,t)=>null===e?null:l.a.createElement("button",{onClick:()=>{let e=[...i];e.push("asd"),s(e)},style:{background:"orange"}},t+1,e)),rowTitleWidth:N,headRow:e=>{console.log();for(var t=[],n=new Date,a=0;a<e;a++){var l=n.getDate();t.push(l),n.setDate(l+1)}return t},mouseLeaveGrid:()=>{},mouseUpCell:e=>{const t=g.map(e=>e.editing?Object(C.a)(Object(C.a)({},e),{},{editing:!1}):e);h(t)},mouseEnterCell:e=>{console.log(g);const t=M(g,e);console.log(t),h(t)},mouseDownCell:e=>{console.log(e);let t=q(e.dimension,e.cell);u(t)},mouseCellDrop:e=>{!function(e){let t=g.filter(e=>e.editing);console.log(t),t.forEach(t=>{console.log("move",e);let n=Object(C.a)(Object(C.a)(Object(C.a)({},t),e),{},{editing:!1});console.log("n",n),b(n)})}(e.cell)},width:document.documentElement.clientWidth,height:D,content:r,dimension:_,mouseDragOverCell:e=>{var t;t=e.cell,g.filter(e=>e.dragging).forEach(e=>{let n=Object(C.a)(Object(C.a)(Object(C.a)({},e),t),{},{editing:!1});b(n)})}},({rowCount:e,rowTitleWidth:t,dimension:n})=>g.map(a=>e>a.row&&l.a.createElement(L,Object.assign({key:a.id},a,{dimension:n,onDragStart:()=>{b(Object(C.a)(Object(C.a)({},a),{},{dragging:!0}))},onContextMenu:e=>{e.preventDefault(),v(a),j({visible:!0,top:e.clientY,left:e.clientX})},onMouseOver:()=>{},style:Object(C.a)(Object(C.a)({},a.style),S(a.row,a.column,n,t))}),l.a.createElement("span",{style:{position:"absolute"}},a.children,a.collisions&&Object.keys(a.collisions).length>0&&l.a.createElement("span",null,"Collision detected"))))),l.a.createElement(Q,Object.assign({className:"cmenu"},O),l.a.createElement(V,{onClick:()=>{b(Object(C.a)(Object(C.a)({},w),{},{draggable:!w.draggable})),j({visibile:!1})}},w.draggable?"Disable":"Enable"," Drag"),l.a.createElement(V,{onClick:()=>{p(w),j({visibile:!1})}},"Delete")))}const $=l.a.forwardRef((e,t)=>l.a.createElement("li",{className:"".concat(e.className," mt-4 ")},l.a.createElement("a",{href:e.href,ref:t,className:"flex  "},l.a.createElement("span",{className:"ml-2 capitalize font-medium text-black dark:text-gray-300"},e.children)))),ee=e=>l.a.createElement("li",{className:"mt-8"},e.children),te="bg-white dark:bg-gray-200 rounded-lg";var ne=()=>l.a.createElement(c.a,null,l.a.createElement("div",{className:"h-screen w-full flex overflow-hidden"},l.a.createElement("nav",{className:"flex flex-col bg-orange-200 w-64 px-8 pt-4 pb-6"},l.a.createElement("div",{className:"flex flex-row border-b items-center justify-between pb-2"},l.a.createElement("span",{className:"text-lg font-semibold capitalize dark:text-gray-300"},"React Reserver Docs")),l.a.createElement("ul",{className:"mt-2 text-gray-600"},l.a.createElement(ee,null,"Examples"),l.a.createElement(c.c,{exact:!0,to:"/",activeClassName:te,component:$},"Get Started"),l.a.createElement(c.c,{to:"/basic",activeClassName:te,component:$},"Basic"),l.a.createElement(c.c,{to:"/column-title",activeClassName:te,component:$},"Column Title"),l.a.createElement(c.c,{to:"/full",activeClassName:te,component:$},"Full"),l.a.createElement(ee,null,"Docs"))),l.a.createElement("main",{className:"flex-1 flex flex-col bg-white transition\r duration-500 ease-in-out overflow-y-auto"},l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/full",component:e=>l.a.createElement(Z,null)}),l.a.createElement(i.a,{path:"/column-title"},l.a.createElement(Y,null)),l.a.createElement(i.a,{path:"/basic"},l.a.createElement(F,{previous:{name:"Getting Started",href:"/"},next:{name:"Column Title",href:"/column-title"}})),l.a.createElement(i.a,{component:e=>l.a.createElement(j,Object.assign({next:{name:"Basic",href:"/basic"}},e)),path:"/"})))));o.a.render(l.a.createElement(ne,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n.p+"static/media/basic.9a9b57ee.gif"}},[[21,1,2]]]);
//# sourceMappingURL=main.69f5fcd5.chunk.js.map