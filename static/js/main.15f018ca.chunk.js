(this["webpackJsonpreact-reserver-example"]=this["webpackJsonpreact-reserver-example"]||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(12)},function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(6);var o=n(0),i=n.n(o),r=n(4),a=n.n(r),l=n(2),c=n(1);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var d="_3TtXw",u="_32f2G";function m(e){void 0===e&&(e=15);for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var f={add:"ADD",edit:"EDIT",delete:"DELETE",addToEditing:"ADD_TO_EDITING",doneEditing:"DONE_EDITING"};function h(e,t){switch(t.type){case f.edit:var n=[].concat(e.bars),o=n.findIndex((function(e){return t.payload.id===e.id}));return n[o]=t.payload,s({},e,{bars:n});case f.add:var i=[].concat(e.bars);return i.push(t.payload),s({},e,{bars:i,isEditing:!0});case f.delete:var r=[].concat(e.bars),a=r.findIndex((function(e){return t.payload.id===e.id}));return r.splice(a,1),s({},e,{bars:r});case f.doneEditing:if(e.isEditing){var l=[].concat(e.bars);return l=l.map((function(e){return e.editing?s({},e,{editing:!1,pointerEvents:"auto"}):e})),s({},e,{bars:l,isEditing:!1})}return e;case f.mouseDragOver:return s({},e);default:return console.log("Unhandled type: "+t.type),e}}function p(e){return i.a.createElement("div",{onDragStart:e.onDragStart,onClick:function(){e.onClick(e)},onMouseOver:function(){e.onMouseOver(e)},draggable:e.draggable,style:s({},e.style,{top:e.top,left:e.left,display:"flex",position:"absolute",zIndex:e.zIndex||"100",pointerEvents:e.pointerEvents}),className:e.className},[].concat(Array(e.length&&e.length>0?e.length:1)).map((function(t,n){return i.a.createElement("div",{key:n,style:{width:e.dimension,height:e.dimension,pointerEvents:e.pointerEvents}})})),e.children)}function g(e){var t=Object(o.useState)([]),n=t[0],r=t[1];return Object(o.useEffect)((function(){"function"===typeof e.headRow?r(e.headRow(e.columnCount)):Array.isArray(e.headRow)&&r(e.headRow)}),[e.headRow,e.columnCount]),i.a.createElement("div",{style:{height:e.dimension,display:"flex"}},i.a.createElement("div",{className:d,style:{width:e.rowTitleWidth,height:e.dimension+"px"}}),n.map((function(t,n){return i.a.createElement("div",{key:n,style:{width:e.dimension+"px",height:e.dimension+"px"},className:d},t)})))}function b(e){var t=Object(o.useState)([]),n=t[0],r=t[1],a=Object(o.useState)(0),l=a[0],c=a[1],m=Object(o.useState)(0),f=m[0],h=m[1];return Object(o.useEffect)((function(){var t,n,o;h((t=e.dimension,n=e.width,o=e.rowTitleWidth,Math.floor((n-o)/t)))}),[e.width,e.dimension]),Object(o.useEffect)((function(){var t,n;c((t=e.dimension,n=e.height,Math.floor(n/t)))}),[e.height,e.dimension]),Object(o.useEffect)((function(){"function"===typeof e.rowTitles?r(e.rowTitles()):Array.isArray(e.rowTitles)&&r(e.rowTitles)}),[e.rowTitles]),i.a.createElement("div",{onMouseLeave:e.mouseLeaveGrid,id:"grid",style:s({},e.style,{position:"relative"})},i.a.createElement(g,{headRow:e.headRow,columnCount:f,rowTitleWidth:e.rowTitleWidth,dimension:e.dimension}),[].concat(Array(l)).map((function(t,o){return i.a.createElement("div",{className:u,key:o,style:{height:e.dimension,display:"flex"}},i.a.createElement("div",{className:d,style:{width:e.rowTitleWidth,height:e.dimension+"px"}},n[o]),[].concat(Array(f)).map((function(t,n){return i.a.createElement("div",{onDragOver:function(t){t.preventDefault(),e.mouseDragOverCell({cell:{row:o,column:n}})},className:d,id:"carribean_r"+o+"c"+n,onMouseEnter:function(){e.mouseEnterCell({dimension:e.dimension,cell:{row:o,column:n}})},onMouseDown:function(){e.mouseDownCell({dimension:e.dimension,cell:{row:o,column:n}})},onMouseUp:function(){console.log("mouseup"),e.mouseUpCell({cell:{row:o,column:n}})},onDrop:function(){e.mouseCellDrop({cell:{row:o,column:n}})},style:{width:e.dimension+"px",height:e.dimension+"px"},key:n},e.content["r"+o+"c"+n])})))})),"function"===typeof e.children&&e.children({rowCount:l,columnCount:f,rowTitleWidth:e.rowTitleWidth,dimension:e.dimension}))}p.defaultProps={dimension:20,onClick:function(){},onMouseOver:function(){},onDragStart:function(){}},b.defaultProps={initBars:[],bars:[],tags:[],headRow:[],rowTitles:[],content:{},dimension:20,width:500,height:500,rowTitleWidth:0,mouseEnterCell:function(){},mouseDownCell:function(){},mouseUpCell:function(){},mouseDragOverCell:function(){},mouseCellDrop:function(){},mouseLeaveGrid:function(){}};var w=b;const y=[{draggable:!0,id:"xx",length:13,row:2,column:8,className:"a-bit-tight",children:"This is a tag"},{id:"xy",length:4,row:5,column:12,style:{background:"red"}}];n(11);var E=()=>{const e=Object(o.useState)([123,1,2,null,null,123]),t=Object(c.a)(e,2),n=(t[0],t[1],Object(o.useState)({r0c0:i.a.createElement("span",{style:{background:"green",width:"20px",height:"20px",display:"block"}}),r2c1:i.a.createElement("span",{style:{fontSize:"10px"}},"150")})),r=Object(c.a)(n,2),a=r[0],d=r[1],u=Object(o.useState)(["Golf Cart 1",null,"Golf Cart 2"]),g=Object(c.a)(u,2),b=g[0],E=g[1],v=Object(o.useState)(600),O=Object(c.a)(v,2),j=(O[0],O[1],function(e,t){var n=Object(o.useReducer)(e,{bars:t,isEditing:!1}),i=n[0],r=i.bars,a=i.isEditing,l=n[1];return{bars:r,isEditing:a,addBar:function(e){return l({payload:e,type:f.add})},editBar:function(e){return l({payload:e,type:f.edit})},doneEditing:function(e){return l({type:f.doneEditing})},deleteBar:function(e){return l({payload:e,type:f.delete})},addToEditing:function(e){return l({payload:e,type:f.addToEditing})}}}(h,y)),D=j.addBar,C=j.editBar,T=j.doneEditing,x=j.deleteBar,k=j.bars,S=Object(o.useState)(80),M=Object(c.a)(S,2),N=M[0],R=(M[1],Object(o.useState)(500)),W=Object(c.a)(R,2),A=W[0],I=(W[1],Object(o.useState)(25)),B=Object(c.a)(I,2),G=B[0],U=(B[1],Object(o.useRef)(new Date));return i.a.createElement("div",null,i.a.createElement(w,{style:{display:"inline-block"},rowTitles:()=>b.map((e,t)=>null===e?null:i.a.createElement("button",{onClick:()=>{let e=[...b];e.push("asd"),E(e)},style:{background:"orange"}},t+1,e)),rowTitleWidth:N,headRow:e=>{for(var t=[],n=new Date,o=0;o<10;o++){var i=n.getDate();t.push(i),n.setDate(i+1)}return t},mouseLeaveGrid:()=>{T()},mouseUpCell:e=>{let t=Object(l.a)({},a);t["r".concat(e.cell.row,"c").concat(e.cell.column)]=i.a.createElement("div",{style:{background:"purple"}},"test"),d(t),T()},mouseEnterCell:e=>{!function(e,t,n){t.filter((function(e){return e.editing})).forEach((function(t){var o,i,r=(o={column:t.column,row:t.row},i=n.cell,{row:o.row,column:o.column,length:i.column-o.column+1});e(s({},t,r))}))}(C,k,e)},mouseDownCell:e=>{console.log(U.current.getUTCDate()),console.log(e);let t=function(e,t){return s({id:m(),dimension:e,style:{background:"orange"},editing:!0},t,{length:1,pointerEvents:"none"})}(e.dimension,e.cell);D(t)},mouseCellDrop:e=>{var t;t=e.cell,k.filter(e=>e.editing).forEach(e=>{console.log("move",t);let n=Object(l.a)(Object(l.a)(Object(l.a)({},e),t),{},{editing:!1});console.log("n",n),C(n)})},width:document.documentElement.clientWidth,height:A,content:a,dimension:G},({rowCount:e,rowTitleWidth:t,dimension:n})=>k.map(o=>e>o.row&&i.a.createElement(p,Object.assign({key:o.id,dimension:n,onDragStart:()=>{C(Object(l.a)(Object(l.a)({},o),{},{editing:!0}))},onClick:()=>{console.log("delete",o),x({id:o.id})},onMouseOver:()=>{}},o,function(e,t,n,o){return{left:e+n*o,top:(t+1)*o}}(t,o.row,o.column,n)),i.a.createElement("span",{style:{position:"absolute"}},o.children))))," ")};a.a.render(i.a.createElement(E,null),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.15f018ca.chunk.js.map