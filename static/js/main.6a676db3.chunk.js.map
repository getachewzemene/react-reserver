{"version":3,"sources":["../../src/helpers.js","../../src/actionTypes.js","../../src/collision.js","../../src/reserverReducer.js","../../src/Bar.js","../../src/Head.js","../../src/index.js","Examples/Basic.js","SimpleContextMenu/index.js","testData.js","App.js","../../src/useReserver.js","index.js"],"names":["makeId","length","text","possible","i","Math","isBetween","min","max","num","states","console","validForBar","number","Number","getPosition","titleWidth","row","column","dimension","left","top","resizeBar","bars","newLocation","bar","firstPosition","secondPosition","Error","evaluatePosition","actionTypes","add","edit","delete","addToEditing","doneEditing","setBars","collided","bar1","bar2","checkHasCollisionObject","removeCollision","reserverReducer","state","action","nBars","bIndex","otherBars","eBar","editingBar","b","bStart","barStart","bTotal","editingBarTotal","checkCollision","oBars","isEditing","barStyle","editing","style","Bar","props","role","onDragStart","onClick","onMouseOver","onContextMenu","draggable","display","position","zIndex","className","Array","key","width","height","pointerEvents","Head","useState","headRow","setHeadRow","useEffect","styles","aria-colindex","Reserver","rowTitles","setRowTitles","rowCount","setRowCount","columnCount","setColumnCount","rowTitleWidth","onMouseLeave","onDragOver","e","cell","c","onMouseEnter","onMouseDown","onMouseUp","onDrop","initBars","tags","content","mouseEnterCell","mouseDownCell","mouseUpCell","mouseDragOverCell","mouseCellDrop","mouseLeaveGrid","Basic","ContextMenu","visible","children","ContextMenuItem","defaultProps","id","background","App","log","testBars","fontSize","setContent","titles","setTitles","reducer","initialState","useReducer","dispatch","addBar","payload","type","editBar","deleteBar","useReserver","selectedBar","setSelectedBar","visibile","contextMenuState","setContextMenuState","widthtitle","padding","flex","flexDirection","to","path","map","ntitles","push","z","x","Date","y","getDate","setDate","tcontent","forEach","newbar","startLocation","createBar","filter","n","moveBar","document","documentElement","clientWidth","dragging","event","preventDefault","clientY","clientX","collisions","Object","keys","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.6a676db3.chunk.js","sourcesContent":["export function makeId(length = 15) {\r\n  let text = ''\r\n  const possible =\r\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n\r\n  for (let i = 0; i < length; i++)\r\n    text += possible.charAt(Math.floor(Math.random() * possible.length))\r\n\r\n  return text\r\n}\r\nexport const isBetween = (min, max, num) => {\r\n  const states = num >= min && max >= num;\r\n  if(states){\r\n    console.log(min,max,num);\r\n  }\r\n  return states;\r\n}\r\n\r\nexport function validForBar(number) {\r\n  return !(!Number.isInteger(number) || number < 0)\r\n}\r\n\r\nexport function evaluatePosition(firstPosition, secondPosition) {\r\n  if (!validForBar(firstPosition.column)) {\r\n    throw new Error(\r\n      `firstPosition.column expected an integer received ${firstPosition.column}`\r\n    )\r\n  }\r\n\r\n  if (!validForBar(firstPosition.row)) {\r\n    throw new Error(\r\n      `firstPosition.row expected an integer received ${firstPosition.row}`\r\n    )\r\n  }\r\n\r\n  if (!validForBar(secondPosition.column)) {\r\n    throw new Error(\r\n      `secondPosition.column expected an integer received ${secondPosition.column}`\r\n    )\r\n  }\r\n\r\n  return {\r\n    row: firstPosition.row,\r\n    column: firstPosition.column,\r\n    length: secondPosition.column - firstPosition.column + 1\r\n  }\r\n}\r\n\r\nexport function getPosition(titleWidth, row, column, dimension) {\r\n  return { left: titleWidth + column * dimension, top: (row + 1) * dimension }\r\n}\r\n\r\nexport function getColumnCount(dimension, width, rowTitleWidth) {\r\n  return Math.floor((width - rowTitleWidth) / dimension)\r\n}\r\n\r\nexport function getRowCount(dimension, height) {\r\n  return Math.floor(height / dimension)\r\n}\r\n\r\nexport function resizeBar(bars, newLocation) {\r\n  const editing = bars.filter((bar) => {\r\n    return bar.editing\r\n  })\r\n\r\n  const newBars = editing.map((bar) => {\r\n    const nPosition = evaluatePosition(\r\n      { column: bar.column, row: bar.row },\r\n      newLocation.cell\r\n    )\r\n    return { ...bar, ...nPosition }\r\n  })\r\n\r\n  return newBars\r\n}\r\n\r\n\r\n","const actionTypes = {\n  add: 'ADD',\n  edit: 'EDIT',\n  delete: 'DELETE',\n  addToEditing: 'ADD_TO_EDITING',\n  doneEditing: 'DONE_EDITING',\n  setBars: 'SET_BARS'\n}\n\nexport default actionTypes\n","import { isBetween } from './helpers'\r\n\r\nexport default function checkCollision(bars, eBar) {\r\n    let editingBar = { ...eBar };\r\n    const oBars = bars.map((b) => {\r\n\r\n        if (editingBar.row === b.row) {\r\n\r\n            const bStart = b.column + 1;\r\n            const barStart = editingBar.column + 1;\r\n            const bTotal = b.column + b.length\r\n            const editingBarTotal = editingBar.column + editingBar.length\r\n\r\n            if (\r\n                isBetween(bStart, bTotal, barStart) ||\r\n                isBetween(bStart, bTotal, editingBarTotal) ||\r\n                isBetween(barStart, editingBarTotal, bTotal) ||\r\n                isBetween(barStart, editingBarTotal, bStart)\r\n            ) {\r\n                const [bar1, bar2] = collided(b, editingBar);\r\n                editingBar = bar2;\r\n                return bar1;\r\n\r\n            }\r\n        } else {\r\n\r\n            const [bar1, bar2] = removeCollision(b, editingBar);\r\n            editingBar = bar2;\r\n            return bar1;\r\n        }\r\n\r\n        return b;\r\n    });\r\n\r\n    return [oBars, editingBar]\r\n}\r\nconst collided = (bar1, bar2) => {\r\n\r\n    bar1 = checkHasCollisionObject(bar1);\r\n    bar1.collisions[bar2.id] = '';\r\n\r\n    bar2 = checkHasCollisionObject(bar2);\r\n    bar2.collisions[bar1.id] = '';\r\n\r\n\r\n\r\n\r\n    return [bar1, bar2];\r\n}\r\n\r\nconst checkHasCollisionObject = (bar) => {\r\n\r\n    if (!bar.collisions) {\r\n        bar.collisions = {};\r\n    }\r\n\r\n    return bar;\r\n}\r\n\r\n\r\nexport const removeCollision = (bar1, bar2) => {\r\n\r\n    bar1 = checkHasCollisionObject(bar1);\r\n    delete bar1.collisions[bar2.id];\r\n\r\n    bar2 = checkHasCollisionObject(bar2);\r\n    delete bar2.collisions[bar1.id];\r\n    return [bar1, bar2];\r\n\r\n}","import actionTypes from './actionTypes'\r\nimport checkCollision from './collision'\r\n\r\n\r\nexport default function reserverReducer(state, action) {\r\n    switch (action.type) {\r\n        case actionTypes.edit: {\r\n            const nBars = [...state.bars]\r\n            const bIndex = nBars.findIndex((bar) => {\r\n                return action.payload.id === bar.id\r\n            })\r\n            const otherBars = [...nBars]\r\n         \r\n            otherBars.splice(bIndex, 1)\r\n            const [oBars,editingBar] = checkCollision(otherBars,action.payload)\r\n\r\n            oBars.push(editingBar);\r\n            return { ...state, bars: oBars }\r\n        }\r\n        case actionTypes.add: {\r\n            const bars = [...state.bars]\r\n\r\n            bars.push(action.payload)\r\n\r\n            return { ...state, bars: bars, isEditing: true }\r\n        }\r\n        case actionTypes.setBars: {\r\n            return { ...state, bars: action.payload.bars }\r\n        }\r\n\r\n        case actionTypes.delete: {\r\n            const nBars = [...state.bars]\r\n            const bIndex = nBars.findIndex((bar) => {\r\n                return action.payload.id === bar.id\r\n            })\r\n\r\n            nBars.splice(bIndex, 1)\r\n\r\n            return { ...state, bars: nBars }\r\n        }\r\n        case actionTypes.doneEditing: {\r\n            if (state.isEditing) {\r\n                let nBars = [...state.bars]\r\n                nBars = nBars.map((bar) => {\r\n                    if (bar.editing) {\r\n                        const barStyle = { ...bar.style }\r\n                        barStyle.pointerEvents = 'auto'\r\n\r\n                        return { ...bar, editing: false, style: barStyle }\r\n                    }\r\n                    return bar\r\n                })\r\n\r\n                return { ...state, bars: nBars, isEditing: false }\r\n            }\r\n\r\n            return state\r\n        }\r\n\r\n        case actionTypes.mouseDragOver: {\r\n            return { ...state }\r\n        }\r\n        case actionTypes.setBars: {\r\n            return { ...action.bars }\r\n        }\r\n\r\n        default: {\r\n            console.log(`Unhandled type: ${action.type}`)\r\n            return state\r\n        }\r\n    }\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Bar(props) {\r\n  return (\r\n    <div\r\n      role='listitem'\r\n      onDragStart={props.onDragStart}\r\n      onClick={(e) => {\r\n        props.onClick(e,props)\r\n      }}\r\n      onMouseOver={(e) => {\r\n        props.onMouseOver(e,props)\r\n      }}\r\n      onContextMenu={(e)=>{\r\n        props.onContextMenu(e)\r\n      }}\r\n      draggable={props.draggable}\r\n      style={{\r\n        ...props.style,\r\n        display: 'flex',\r\n        position: 'absolute',\r\n        zIndex: props.zIndex || '100'\r\n      }}\r\n      className={props.className}\r\n    >\r\n      {[...Array(props.length && props.length > 0 ? props.length : 1)].map(\r\n        (notUsed, i) => {\r\n          return (\r\n            <div\r\n              key={i}\r\n              style={{\r\n                width: props.dimension,\r\n                height: props.dimension,\r\n                pointerEvents: props.style.pointerEvents\r\n              }}\r\n            />\r\n          )\r\n        }\r\n      )}\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nBar.defaultProps = {\r\n  dimension: 20,\r\n  onClick: () => {},\r\n  onMouseOver: () => {},\r\n  onDragStart: () => {},\r\n  onContextMenu:()=>{}\r\n}\r\n","import React, { useEffect, useState } from 'react'\nimport styles from './style.css'\nexport default function Head(props) {\n  const [headRow, setHeadRow] = useState([])\n\n  useEffect(() => {\n    if (typeof props.headRow === 'function') {\n      setHeadRow(props.headRow(props.columnCount))\n    } else if (Array.isArray(props.headRow)) {\n      setHeadRow(props.headRow)\n    }\n  }, [props.headRow, props.columnCount])\n\n  return (\n    <div\n      role='columnheader'\n      style={{ height: props.dimension, display: 'flex' }}\n    >\n      <div\n        className={styles.row_cell}\n        style={{ width: props.rowTitleWidth, height: props.dimension + 'px' }}\n      />\n      {headRow.map((headitem, i) => {\n        return (\n          <div\n            aria-colindex={i}\n            key={i}\n            style={{\n              width: props.dimension + 'px',\n              height: props.dimension + 'px'\n            }}\n            className={styles.row_cell}\n          >\n            {headitem}\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\r\nimport styles from './style.css'\r\nimport {\r\n  makeId,\r\n  getPosition,\r\n  getColumnCount,\r\n  getRowCount,\r\n  evaluatePosition,\r\n  resizeBar\r\n} from './helpers'\r\nimport reserverReducer from './reserverReducer'\r\nimport useReserver from './useReserver'\r\nimport actionTypes from './actionTypes'\r\nimport Bar from './Bar'\r\nimport Head from './Head'\r\n\r\n/* TODO:\r\nResize bar if at end of area\r\ndrag backwards\r\nbuild resolver for date and time\r\nTest accessibility\r\n*/\r\n\r\nexport default function Reserver(props) {\r\n  const [rowTitles, setRowTitles] = useState([])\r\n\r\n  const [rowCount, setRowCount] = useState(0)\r\n  const [columnCount, setColumnCount] = useState(0)\r\n\r\n  useEffect(() => {\r\n    setColumnCount(\r\n      getColumnCount(props.dimension, props.width, props.rowTitleWidth)\r\n    )\r\n  }, [props.width, props.dimension])\r\n\r\n  useEffect(() => {\r\n    setRowCount(getRowCount(props.dimension, props.height))\r\n  }, [props.height, props.dimension])\r\n\r\n  useEffect(() => {\r\n    if (typeof props.rowTitles === 'function') {\r\n      setRowTitles(props.rowTitles())\r\n    } else if (Array.isArray(props.rowTitles)) {\r\n      setRowTitles(props.rowTitles)\r\n    }\r\n  }, [props.rowTitles])\r\n\r\n  return (\r\n    <div\r\n      role='grid'\r\n      onMouseLeave={props.mouseLeaveGrid}\r\n      style={{ ...props.style, position: 'relative' }}\r\n    >\r\n      <Head\r\n        headRow={props.headRow}\r\n        columnCount={columnCount}\r\n        rowTitleWidth={props.rowTitleWidth}\r\n        dimension={props.dimension}\r\n      />\r\n      {[...Array(rowCount)].map((x, r) => {\r\n        return (\r\n          <div\r\n            role='rowgroup'\r\n            className={styles.row}\r\n            key={r}\r\n            style={{ height: props.dimension, display: 'flex' }}\r\n          >\r\n            <div\r\n              className={styles.row_cell}\r\n              style={{\r\n                width: props.rowTitleWidth,\r\n                height: props.dimension + 'px'\r\n              }}\r\n            >\r\n              {rowTitles[r]}\r\n            </div>\r\n            {[...Array(columnCount)].map((x, c) => {\r\n              return (\r\n                <div\r\n                  role='gridcell'\r\n                  aria-colindex={c}\r\n                  onDragOver={(e) => {\r\n                    e.preventDefault()\r\n                    props.mouseDragOverCell({ cell: { row: r, column: c } },e)\r\n                  }}\r\n                  className={styles.row_cell}\r\n                  onMouseEnter={(e) => {\r\n                    props.mouseEnterCell({\r\n                      dimension: props.dimension,\r\n                      cell: { row: r, column: c }\r\n                    },e)\r\n                  }}\r\n                  onMouseDown={(e) => {\r\n                    props.mouseDownCell({\r\n                      dimension: props.dimension,\r\n                      cell: { row: r, column: c }\r\n                    },e)\r\n                  }}\r\n                  onMouseUp={(e) => {\r\n                    \r\n                    props.mouseUpCell({ cell: { row: r, column: c } },e)\r\n                  }}\r\n                  onDrop={(e) => {\r\n                    props.mouseCellDrop({ cell: { row: r, column: c } },e)\r\n                  }}\r\n                  style={{\r\n                    width: props.dimension + 'px',\r\n                    height: props.dimension + 'px'\r\n                  }}\r\n                  key={c}\r\n                >\r\n                  {props.content[`r${r}c${c}`]}\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        )\r\n      })}\r\n\r\n      <div role='list'>        \r\n        {typeof props.children === 'function' &&\r\n          props.children({\r\n            rowCount: rowCount,\r\n            columnCount: columnCount,\r\n            rowTitleWidth: props.rowTitleWidth,\r\n            dimension: props.dimension\r\n          })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nfunction createBar(dimension, startLocation) {\r\n  return {\r\n    id: makeId(),\r\n    dimension: dimension,\r\n    style: { background: 'orange', pointerEvents: 'none' },\r\n    editing: true,\r\n    ...startLocation,\r\n    length: 1\r\n  }\r\n}\r\nexport {\r\n  Bar,\r\n  reserverReducer,\r\n  actionTypes,\r\n  makeId,\r\n  useReserver,\r\n  getPosition,\r\n  evaluatePosition,\r\n  createBar,\r\n  resizeBar\r\n}\r\n\r\nReserver.defaultProps = {\r\n  initBars: [],\r\n  bars: [],\r\n  tags: [],\r\n  headRow: [],\r\n  rowTitles: [],\r\n  content: {},\r\n  dimension: 20,\r\n  width: 500,\r\n  height: 500,\r\n  rowTitleWidth: 0,\r\n  mouseEnterCell: () => {},\r\n  mouseDownCell: () => {},\r\n  mouseUpCell: () => {},\r\n  mouseDragOverCell: () => {},\r\n  mouseCellDrop: () => {},\r\n  mouseLeaveGrid: () => {}\r\n}\r\n","import React from 'react'\r\nimport Reserver from 'react-reserver'\r\n\r\n\r\nexport default function Basic(props){\r\n\r\n\r\n    return  <Reserver />\r\n\r\n}","import React from 'react';\r\n\r\n\r\nexport default function ContextMenu(props) {\r\n\r\n\r\n    return <div className={props.className} style={{ display: props.visible ? \"block\" : \"none\", position: \"absolute\", left: props.left, top: props.top, zIndex: props.zIndex || 10000 }}>\r\n        <ul>  {props.children}</ul>\r\n    </div>\r\n}\r\n\r\nconst ContextMenuItem = (props) => {\r\n\r\n    return <li onClick={props.onClick}>{props.children}</li>\r\n}\r\n\r\nexport { ContextMenuItem }\r\n\r\nContextMenu.defaultProps = {\r\n    visible: false,\r\n    left: 0,\r\n    top: 0\r\n\r\n}\r\n","export const bars = [\r\n    { draggable: true, id: \"xx\", length: 13, row: 2, column: 8, className: \"default-bar\", children: \"This is a tag\" },\r\n    { id: \"xy\", length: 4, row: 5, column: 12, style: { background: \"red\" } },\r\n \r\n]\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\n\r\nimport Basic from './Examples/Basic'\r\n\r\nimport Reserver, { Bar, useReserver, reserverReducer, getPosition, createBar, resizeBar } from 'react-reserver'\r\nimport SimpleContextMenu, { ContextMenuItem } from './SimpleContextMenu'\r\n\r\nimport { bars as testBars } from './testData'\r\n//import moment from 'moment';\r\n\r\nimport 'react-reserver/dist/index.css'\r\nimport './SimpleContextMenu/cmenu.css'\r\nimport 'bulma/css/bulma.css'\r\n\r\n\r\n\r\nconst App = () => {\r\n\r\n\r\n  useEffect(() => {\r\n    console.log(testBars)\r\n\r\n  }, [])\r\n\r\n  //const [headRow, setHeadRow] = useState([123, 1, 2, null, null, 123]);\r\n  const [content, setContent] = useState({\r\n    \"r0c0\": <span style={{ background: \"green\", width: \"20px\", height: \"20px\", display: \"block\" }}></span>, \"r2c1\": <span style={{ fontSize: \"10px\" }}>150</span>\r\n  });\r\n\r\n  const [titles, setTitles] = useState([\"Golf Cart 1\", null, \"Golf Cart 2\",]);\r\n  //const [resWidth, setResWidth] = useState(600);\r\n\r\n  const { addBar, editBar, doneEditing, deleteBar, bars } = useReserver(reserverReducer, testBars);\r\n  const [selectedBar, setSelectedBar] = useState({})\r\n  const [contextMenuState, setContextMenuState] = useState({ visibile: false, top: 0, left: 0 })\r\n\r\n  const [widthtitle] = useState(80)\r\n\r\n  const [height] = useState(500)\r\n  const [dimension] = useState(25);\r\n  //const [startDate, setStartDate] = useState(moment())\r\n\r\n\r\n\r\n\r\n\r\n\r\n  function moveBar(newLocation) {\r\n\r\n    let editing = bars.filter(bar => bar.editing)\r\n    console.log(editing)\r\n    editing.forEach((bar) => {\r\n      console.log(\"move\", newLocation)\r\n      let n = { ...bar, ...newLocation, editing: false };\r\n      console.log(\"n\", n)\r\n      editBar(n)\r\n    })\r\n\r\n  }\r\n\r\n  function hoverBar(newLocation) {\r\n\r\n    let editing = bars.filter(bar => bar.dragging)\r\n\r\n    editing.forEach((bar) => {\r\n      let n = { ...bar, ...newLocation, editing: false };\r\n      editBar(n)\r\n    })\r\n  }\r\n\r\n\r\n  return <Router >\r\n    <div style={{ display: \"flex\" }}>\r\n\r\n\r\n      <ul style={{ padding: \"20px\", display: \"flex\", flex: 1, flexDirection: \"column\" }}>\r\n        <Link to=\"/\">Start Here</Link>\r\n        <Link to=\"/basic\">Basic</Link>\r\n        <Link to=\"/full\">Full</Link>\r\n\r\n      </ul>\r\n\r\n\r\n      <div style={{ flex: 5 }}>\r\n        <Switch>\r\n          <Route path=\"/full\">\r\n            <Reserver\r\n              style={{ display: \"inline-block\" }}\r\n              rowTitles={() => {\r\n                return titles.map((c, i) => {\r\n                  if (c === null) {\r\n                    return null;\r\n                  }\r\n                  return <button onClick={() => {\r\n                    let ntitles = [...titles];\r\n                    ntitles.push(\"asd\")\r\n                    setTitles(ntitles)\r\n                  }} style={{ background: \"orange\" }}>{i + 1}{c}</button>\r\n\r\n                })\r\n              }}\r\n              rowTitleWidth={widthtitle}\r\n              headRow={(columnCount) => {\r\n                console.log()\r\n                var z = [];\r\n                var x = new Date();\r\n                for (var i = 0; i < columnCount; i++) {\r\n                  var y = x.getDate();\r\n                  z.push(y);\r\n                  x.setDate(y + 1)\r\n\r\n                }\r\n\r\n                return z;\r\n\r\n                /* return headRow.map((r) => {\r\n                   return <div onClick={() => { setWidthtitle(widthtitle + 10) }}>{r}</div>\r\n           \r\n                 })*/\r\n              }}\r\n              mouseLeaveGrid={() => { doneEditing() }}\r\n              mouseUpCell={(props) => {\r\n\r\n\r\n                let tcontent = { ...content }\r\n                tcontent[`r${props.cell.row}c${props.cell.column}`] = <div style={{ background: \"purple\" }}>test</div>;\r\n                setContent(tcontent)\r\n\r\n                doneEditing()\r\n              }}\r\n              mouseEnterCell={(props) => {\r\n\r\n                const nBars = resizeBar(bars, props)\r\n\r\n                nBars.forEach((bar) => {\r\n                  editBar(bar)\r\n                })\r\n              }\r\n\r\n              }\r\n              mouseDownCell={(props) => {\r\n\r\n\r\n                console.log(props)\r\n\r\n                let newbar = createBar(props.dimension, props.cell);\r\n                addBar(newbar)\r\n              }\r\n              }\r\n              mouseCellDrop={(props) => { moveBar(props.cell) }}\r\n              width={document.documentElement.clientWidth}\r\n              height={height}\r\n              content={content}\r\n              dimension={dimension}\r\n              mouseDragOverCell={(props) => {\r\n\r\n                hoverBar(props.cell)\r\n              }}\r\n            >\r\n              {({ rowCount, rowTitleWidth, dimension }) => {\r\n\r\n                return bars.map((bar) => {\r\n\r\n                  return (rowCount > bar.row) && <Bar key={bar.id}\r\n                    {...bar}\r\n                    dimension={dimension}\r\n                    onDragStart={() => { editBar({ ...bar, dragging: true }) }}\r\n                    onContextMenu={(event) => {\r\n                      event.preventDefault();\r\n                      setSelectedBar(bar)\r\n                      setContextMenuState({ visible: true, top: event.clientY, left: event.clientX })\r\n                    }}\r\n\r\n                    onMouseOver={() => { }}\r\n                    style={{ ...bar.style, ...getPosition(rowTitleWidth, bar.row, bar.column, dimension) }}\r\n\r\n                  >\r\n\r\n                    <span style={{ position: \"absolute\" }}>{bar.children}{bar.collisions && (Object.keys(bar.collisions).length > 0) && <span>Collision detected</span>}</span>\r\n                  </Bar>\r\n\r\n                })\r\n\r\n              }}\r\n\r\n            </Reserver>\r\n            <SimpleContextMenu className=\"cmenu\" {...contextMenuState}>\r\n\r\n              <ContextMenuItem onClick={() => { editBar({ ...selectedBar, draggable: !selectedBar.draggable }); setContextMenuState({ visibile: false }) }} >{selectedBar.draggable ? \"Disable\" : \"Enable\"} Drag</ContextMenuItem>\r\n              <ContextMenuItem onClick={() => { deleteBar(selectedBar); setContextMenuState({ visibile: false }) }}>Delete</ContextMenuItem>\r\n\r\n            </SimpleContextMenu>\r\n          </Route>\r\n          <Route path=\"/basic\">\r\n            <Basic />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            Start here\r\n          </Route>\r\n        </Switch>\r\n\r\n      </div>\r\n    </div>\r\n  </Router>\r\n}\r\n\r\nexport default App\r\n","import { useReducer } from 'react'\nimport actionTypes from './actionTypes'\nfunction useReserver(reducer, initialState) {\n  const [{ bars, isEditing }, dispatch] = useReducer(reducer, {\n    bars: initialState,\n    isEditing: false\n  })\n\n  const addBar = (props) => {\n    return dispatch({ payload: props, type: actionTypes.add })\n  }\n\n  const editBar = (props) => {\n    return dispatch({ payload: props, type: actionTypes.edit })\n  }\n\n  const deleteBar = (props) => {\n    return dispatch({ payload: props, type: actionTypes.delete })\n  }\n\n  const doneEditing = (props) => {\n    return dispatch({ type: actionTypes.doneEditing })\n  }\n\n  const addToEditing = (props) => {\n    return dispatch({ payload: props, type: actionTypes.addToEditing })\n  }\n\n  return {\n    bars,\n    isEditing,\n    addBar,\n    editBar,\n    doneEditing,\n    deleteBar,\n    addToEditing\n  }\n}\nexport default useReserver\n","import './index.css'\r\n\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}