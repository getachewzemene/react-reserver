{"version":3,"sources":["../../src/helpers.js","../../src/actionTypes.js","../../src/collision.js","../../src/reserverReducer.js","../../src/Bar.js","../../src/Head.js","../../src/index.js","Examples/Basic.js","SimpleContextMenu/index.js","testData.js","App.js","../../src/useReserver.js","index.js"],"names":["makeId","length","text","possible","i","Math","isBetween","min","max","num","states","console","validForBar","number","Number","getPosition","titleWidth","row","column","dimension","left","top","resizeBar","bars","newLocation","bar","nPosition","firstPosition","secondPosition","Error","evaluatePosition","actionTypes","add","edit","delete","addToEditing","doneEditing","setBars","collided","bar1","bar2","checkHasCollisionObject","removeCollision","reserverReducer","state","action","nBars","bIndex","otherBars","eBar","editingBar","b","bStart","barStart","bTotal","editingBarTotal","checkCollision","oBars","isEditing","barStyle","style","editing","Bar","props","role","onDragStart","onClick","e","onMouseOver","onContextMenu","draggable","display","position","zIndex","className","Array","notUsed","key","width","height","pointerEvents","Head","useState","useEffect","setHeadRow","styles","headRow","headitem","aria-colindex","Reserver","rowTitleWidth","setColumnCount","setRowCount","setRowTitles","onMouseLeave","columnCount","x","r","rowTitles","c","onDragOver","cell","onMouseEnter","onMouseDown","onMouseUp","onDrop","rowCount","initBars","tags","content","mouseEnterCell","mouseDownCell","mouseUpCell","mouseDragOverCell","mouseCellDrop","mouseLeaveGrid","Basic","ContextMenu","visible","children","ContextMenuItem","defaultProps","id","background","App","log","testBars","fontSize","setContent","titles","setTitles","reducer","initialState","useReducer","dispatch","payload","type","useReserver","addBar","editBar","deleteBar","selectedBar","setSelectedBar","visibile","contextMenuState","setContextMenuState","widthtitle","padding","flex","flexDirection","to","path","process","map","ntitles","push","z","Date","y","getDate","setDate","tcontent","forEach","newbar","startLocation","createBar","filter","n","moveBar","document","documentElement","clientWidth","dragging","event","preventDefault","clientY","clientX","collisions","Object","keys","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.56f4b1fb.chunk.js","sourcesContent":["export function makeId(length = 15) {\n  let text = ''\n  const possible =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n\n  for (let i = 0; i < length; i++)\n    text += possible.charAt(Math.floor(Math.random() * possible.length))\n\n  return text\n}\nexport const isBetween = (min, max, num) => {\n  const states = num >= min && max >= num\n  if (states) {\n    console.log(min, max, num)\n  }\n  return states\n}\n\nexport function validForBar(number) {\n  return !(!Number.isInteger(number) || number < 0)\n}\n\nexport function evaluatePosition(firstPosition, secondPosition) {\n  if (!validForBar(firstPosition.column)) {\n    throw new Error(\n      `firstPosition.column expected an integer received ${firstPosition.column}`\n    )\n  }\n\n  if (!validForBar(firstPosition.row)) {\n    throw new Error(\n      `firstPosition.row expected an integer received ${firstPosition.row}`\n    )\n  }\n\n  if (!validForBar(secondPosition.column)) {\n    throw new Error(\n      `secondPosition.column expected an integer received ${secondPosition.column}`\n    )\n  }\n\n  return {\n    row: firstPosition.row,\n    column: firstPosition.column,\n    length: secondPosition.column - firstPosition.column + 1\n  }\n}\n\nexport function getPosition(titleWidth, row, column, dimension) {\n  return { left: titleWidth + column * dimension, top: (row + 1) * dimension }\n}\n\nexport function getColumnCount(dimension, width, rowTitleWidth) {\n  return Math.floor((width - rowTitleWidth) / dimension)\n}\n\nexport function getRowCount(dimension, height) {\n  return Math.floor(height / dimension)\n}\n\nexport function resizeBar(bars, newLocation) {\n  const editing = bars.filter((bar) => {\n    return bar.editing\n  })\n\n  const newBars = editing.map((bar) => {\n    const nPosition = evaluatePosition(\n      { column: bar.column, row: bar.row },\n      newLocation.cell\n    )\n    return { ...bar, ...nPosition }\n  })\n\n  return newBars\n}\n","const actionTypes = {\n  add: 'ADD',\n  edit: 'EDIT',\n  delete: 'DELETE',\n  addToEditing: 'ADD_TO_EDITING',\n  doneEditing: 'DONE_EDITING',\n  setBars: 'SET_BARS'\n}\n\nexport default actionTypes\n","import { isBetween } from './helpers'\n\nexport default function checkCollision(bars, eBar) {\n  let editingBar = { ...eBar }\n  const oBars = bars.map((b) => {\n    if (editingBar.row === b.row) {\n      const bStart = b.column + 1\n      const barStart = editingBar.column + 1\n      const bTotal = b.column + b.length\n      const editingBarTotal = editingBar.column + editingBar.length\n\n      if (\n        isBetween(bStart, bTotal, barStart) ||\n        isBetween(bStart, bTotal, editingBarTotal) ||\n        isBetween(barStart, editingBarTotal, bTotal) ||\n        isBetween(barStart, editingBarTotal, bStart)\n      ) {\n        const [bar1, bar2] = collided(b, editingBar)\n        editingBar = bar2\n        return bar1\n      }\n    } else {\n      const [bar1, bar2] = removeCollision(b, editingBar)\n      editingBar = bar2\n      return bar1\n    }\n\n    return b\n  })\n\n  return [oBars, editingBar]\n}\nconst collided = (bar1, bar2) => {\n  bar1 = checkHasCollisionObject(bar1)\n  bar1.collisions[bar2.id] = ''\n\n  bar2 = checkHasCollisionObject(bar2)\n  bar2.collisions[bar1.id] = ''\n\n  return [bar1, bar2]\n}\n\nconst checkHasCollisionObject = (bar) => {\n  if (!bar.collisions) {\n    bar.collisions = {}\n  }\n\n  return bar\n}\n\nexport const removeCollision = (bar1, bar2) => {\n  bar1 = checkHasCollisionObject(bar1)\n  delete bar1.collisions[bar2.id]\n\n  bar2 = checkHasCollisionObject(bar2)\n  delete bar2.collisions[bar1.id]\n  return [bar1, bar2]\n}\n","import actionTypes from './actionTypes'\nimport checkCollision from './collision'\n\nexport default function reserverReducer(state, action) {\n  switch (action.type) {\n    case actionTypes.edit: {\n      const nBars = [...state.bars]\n      const bIndex = nBars.findIndex((bar) => {\n        return action.payload.id === bar.id\n      })\n      const otherBars = [...nBars]\n\n      otherBars.splice(bIndex, 1)\n      const [oBars, editingBar] = checkCollision(otherBars, action.payload)\n\n      oBars.push(editingBar)\n      return { ...state, bars: oBars }\n    }\n    case actionTypes.add: {\n      const bars = [...state.bars]\n\n      bars.push(action.payload)\n\n      return { ...state, bars: bars, isEditing: true }\n    }\n    case actionTypes.setBars: {\n      return { ...state, bars: action.payload.bars }\n    }\n\n    case actionTypes.delete: {\n      const nBars = [...state.bars]\n      const bIndex = nBars.findIndex((bar) => {\n        return action.payload.id === bar.id\n      })\n\n      nBars.splice(bIndex, 1)\n\n      return { ...state, bars: nBars }\n    }\n    case actionTypes.doneEditing: {\n      if (state.isEditing) {\n        let nBars = [...state.bars]\n        nBars = nBars.map((bar) => {\n          if (bar.editing) {\n            const barStyle = { ...bar.style }\n            barStyle.pointerEvents = 'auto'\n\n            return { ...bar, editing: false, style: barStyle }\n          }\n          return bar\n        })\n\n        return { ...state, bars: nBars, isEditing: false }\n      }\n\n      return state\n    }\n\n    case actionTypes.mouseDragOver: {\n      return { ...state }\n    }\n\n    default: {\n      console.log(`Unhandled type: ${action.type}`)\n      return state\n    }\n  }\n}\n","import React from 'react'\n\nexport default function Bar(props) {\n  return (\n    <div\n      role='listitem'\n      onDragStart={props.onDragStart}\n      onClick={(e) => {\n        props.onClick(e, props)\n      }}\n      onMouseOver={(e) => {\n        props.onMouseOver(e, props)\n      }}\n      onContextMenu={(e) => {\n        props.onContextMenu(e)\n      }}\n      draggable={props.draggable}\n      style={{\n        ...props.style,\n        display: 'flex',\n        position: 'absolute',\n        zIndex: props.zIndex || '100'\n      }}\n      className={props.className}\n    >\n      {[...Array(props.length && props.length > 0 ? props.length : 1)].map(\n        (notUsed, i) => {\n          return (\n            <div\n              key={i}\n              style={{\n                width: props.dimension,\n                height: props.dimension,\n                pointerEvents: props.style.pointerEvents\n              }}\n            />\n          )\n        }\n      )}\n      {props.children}\n    </div>\n  )\n}\n\nBar.defaultProps = {\n  dimension: 20,\n  onClick: () => {},\n  onMouseOver: () => {},\n  onDragStart: () => {},\n  onContextMenu: () => {}\n}\n","import React, { useEffect, useState } from 'react'\nimport styles from './style.css'\nexport default function Head(props) {\n  const [headRow, setHeadRow] = useState([])\n\n  useEffect(() => {\n    if (typeof props.headRow === 'function') {\n      setHeadRow(props.headRow(props.columnCount))\n    } else if (Array.isArray(props.headRow)) {\n      setHeadRow(props.headRow)\n    }\n  }, [props.headRow, props.columnCount])\n\n  return (\n    <div\n      role='columnheader'\n      style={{ height: props.dimension, display: 'flex' }}\n    >\n      <div\n        className={styles.row_cell}\n        style={{ width: props.rowTitleWidth, height: props.dimension + 'px' }}\n      />\n      {headRow.map((headitem, i) => {\n        return (\n          <div\n            aria-colindex={i}\n            key={i}\n            style={{\n              width: props.dimension + 'px',\n              height: props.dimension + 'px'\n            }}\n            className={styles.row_cell}\n          >\n            {headitem}\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport styles from './style.css'\nimport {\n  makeId,\n  getPosition,\n  getColumnCount,\n  getRowCount,\n  evaluatePosition,\n  resizeBar\n} from './helpers'\nimport reserverReducer from './reserverReducer'\nimport useReserver from './useReserver'\nimport actionTypes from './actionTypes'\nimport Bar from './Bar'\nimport Head from './Head'\n\n/* TODO:\nResize bar if at end of area\ndrag backwards\nbuild resolver for date and time\nTest accessibility\n*/\n\nexport default function Reserver(props) {\n  const [rowTitles, setRowTitles] = useState([])\n\n  const [rowCount, setRowCount] = useState(0)\n  const [columnCount, setColumnCount] = useState(0)\n\n\n\n  useEffect(() => {\n    setColumnCount(\n      getColumnCount(props.dimension, props.width, props.rowTitleWidth)\n    )\n  }, [props.width, props.dimension])\n\n  useEffect(() => {\n    setRowCount(getRowCount(props.dimension, props.height))\n  }, [props.height, props.dimension])\n\n  useEffect(() => {\n    if (typeof props.rowTitles === 'function') {\n      setRowTitles(props.rowTitles())\n    } else if (Array.isArray(props.rowTitles)) {\n      setRowTitles(props.rowTitles)\n    }\n  }, [props.rowTitles])\n\n  return (\n    <div\n      role='grid'\n      onMouseLeave={props.mouseLeaveGrid}\n      style={{ ...props.style, position: 'relative' }}\n    >\n      <Head\n        headRow={props.headRow}\n        columnCount={columnCount}\n        rowTitleWidth={props.rowTitleWidth}\n        dimension={props.dimension}\n      />\n      {[...Array(rowCount)].map((x, r) => {\n        return (\n          <div\n            role='rowgroup'\n            className={styles.row}\n            key={r}\n            style={{ height: props.dimension, display: 'flex' }}\n          >\n            <div\n              className={styles.row_cell}\n              style={{\n                width: props.rowTitleWidth,\n                height: props.dimension + 'px'\n              }}\n            >\n              {rowTitles[r]}\n            </div>\n            {[...Array(columnCount)].map((x, c) => {\n              return (\n                <div\n                  role='gridcell'\n                  aria-colindex={c}\n                  onDragOver={(e) => {\n                    e.preventDefault()\n                    props.mouseDragOverCell({ cell: { row: r, column: c } }, e)\n                  }}\n                  className={styles.row_cell}\n                  onMouseEnter={(e) => {\n                    props.mouseEnterCell(\n                      {\n                        dimension: props.dimension,\n                        cell: { row: r, column: c }\n                      },\n                      e\n                    )\n                  }}\n                  onMouseDown={(e) => {\n                    props.mouseDownCell(\n                      {\n                        dimension: props.dimension,\n                        cell: { row: r, column: c }\n                      },\n                      e\n                    )\n                  }}\n                  onMouseUp={(e) => {\n                    props.mouseUpCell({ cell: { row: r, column: c } }, e)\n                  }}\n                  onDrop={(e) => {\n                    props.mouseCellDrop({ cell: { row: r, column: c } }, e)\n                  }}\n                  style={{\n                    width: props.dimension + 'px',\n                    height: props.dimension + 'px'\n                  }}\n                  key={c}\n                >\n                  {props.content[`r${r}c${c}`]}\n                </div>\n              )\n            })}\n          </div>\n        )\n      })}\n\n      <div role='list'>\n        {typeof props.children === 'function' &&\n          props.children({\n            rowCount: rowCount,\n            columnCount: columnCount,\n            rowTitleWidth: props.rowTitleWidth,\n            dimension: props.dimension\n          })}\n      </div>\n    </div>\n  )\n}\nfunction createBar(dimension, startLocation) {\n  return {\n    id: makeId(),\n    dimension: dimension,\n    style: { background: 'orange', pointerEvents: 'none' },\n    editing: true,\n    ...startLocation,\n    length: 1\n  }\n}\nexport {\n  Bar,\n  reserverReducer,\n  actionTypes,\n  makeId,\n  useReserver,\n  getPosition,\n  evaluatePosition,\n  createBar,\n  resizeBar\n}\n\nReserver.defaultProps = {\n  initBars: [],\n  bars: [],\n  tags: [],\n  headRow: [],\n  rowTitles: [],\n  content: {},\n  dimension: 20,\n  width: 500,\n  height: 500,\n  rowTitleWidth: 0,\n  mouseEnterCell: () => { },\n  mouseDownCell: () => { },\n  mouseUpCell: () => { },\n  mouseDragOverCell: () => { },\n  mouseCellDrop: () => { },\n  mouseLeaveGrid: () => { }\n}\n","import React from 'react'\r\nimport Reserver from 'react-reserver'\r\n\r\n\r\nexport default function Basic(props){\r\n\r\n\r\n    return  <Reserver />\r\n\r\n}","import React from 'react';\r\n\r\n\r\nexport default function ContextMenu(props) {\r\n\r\n\r\n    return <div className={props.className} style={{ display: props.visible ? \"block\" : \"none\", position: \"absolute\", left: props.left, top: props.top, zIndex: props.zIndex || 10000 }}>\r\n        <ul>  {props.children}</ul>\r\n    </div>\r\n}\r\n\r\nconst ContextMenuItem = (props) => {\r\n\r\n    return <li onClick={props.onClick}>{props.children}</li>\r\n}\r\n\r\nexport { ContextMenuItem }\r\n\r\nContextMenu.defaultProps = {\r\n    visible: false,\r\n    left: 0,\r\n    top: 0\r\n\r\n}\r\n","export const bars = [\r\n    { draggable: true, id: \"xx\", length: 13, row: 2, column: 8, className: \"default-bar\", children: \"This is a tag\" },\r\n    { id: \"xy\", length: 4, row: 5, column: 12, style: { background: \"red\" } },\r\n \r\n]\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\n\r\nimport Basic from './Examples/Basic'\r\n\r\nimport Reserver, { Bar, useReserver, reserverReducer, getPosition, createBar, resizeBar } from 'react-reserver'\r\nimport SimpleContextMenu, { ContextMenuItem } from './SimpleContextMenu'\r\n\r\nimport { bars as testBars } from './testData'\r\n//import moment from 'moment';\r\n\r\nimport 'react-reserver/dist/index.css'\r\nimport './SimpleContextMenu/cmenu.css'\r\nimport 'bulma/css/bulma.css'\r\n\r\n\r\n\r\nconst App = () => {\r\n\r\n\r\n  useEffect(() => {\r\n    console.log(testBars)\r\n\r\n  }, [])\r\n\r\n  //const [headRow, setHeadRow] = useState([123, 1, 2, null, null, 123]);\r\n  const [content, setContent] = useState({\r\n    \"r0c0\": <span style={{ background: \"green\", width: \"20px\", height: \"20px\", display: \"block\" }}></span>, \"r2c1\": <span style={{ fontSize: \"10px\" }}>150</span>\r\n  });\r\n\r\n  const [titles, setTitles] = useState([\"Golf Cart 1\", null, \"Golf Cart 2\",]);\r\n  //const [resWidth, setResWidth] = useState(600);\r\n\r\n  const { addBar, editBar, doneEditing, deleteBar, bars } = useReserver(reserverReducer, testBars);\r\n  const [selectedBar, setSelectedBar] = useState({})\r\n  const [contextMenuState, setContextMenuState] = useState({ visibile: false, top: 0, left: 0 })\r\n\r\n  const [widthtitle] = useState(80)\r\n\r\n  const [height] = useState(500)\r\n  const [dimension] = useState(25);\r\n  //const [startDate, setStartDate] = useState(moment())\r\n\r\n\r\n\r\n\r\n\r\n\r\n  function moveBar(newLocation) {\r\n\r\n    let editing = bars.filter(bar => bar.editing)\r\n    console.log(editing)\r\n    editing.forEach((bar) => {\r\n      console.log(\"move\", newLocation)\r\n      let n = { ...bar, ...newLocation, editing: false };\r\n      console.log(\"n\", n)\r\n      editBar(n)\r\n    })\r\n\r\n  }\r\n\r\n  function hoverBar(newLocation) {\r\n\r\n    let editing = bars.filter(bar => bar.dragging)\r\n\r\n    editing.forEach((bar) => {\r\n      let n = { ...bar, ...newLocation, editing: false };\r\n      editBar(n)\r\n    })\r\n  }\r\n\r\n\r\n  return <Router >\r\n    <div style={{ display: \"flex\" }}>\r\n\r\n\r\n      <ul style={{ padding: \"20px\", display: \"flex\", flex: 1, flexDirection: \"column\" }}>\r\n        <li> <Link to=\"/\">Start Here</Link></li>\r\n        <li><Link to=\"/basic\">Basic</Link></li>\r\n        <li><Link to=\"/full\">Full</Link></li>\r\n\r\n      </ul>\r\n\r\n\r\n      <div style={{ flex: 5 }}>\r\n        <Switch>\r\n          <Route  path={process.env.PUBLIC_URL + '/full'}>\r\n            <Reserver\r\n              style={{ display: \"inline-block\" }}\r\n              rowTitles={() => {\r\n                return titles.map((c, i) => {\r\n                  if (c === null) {\r\n                    return null;\r\n                  }\r\n                  return <button onClick={() => {\r\n                    let ntitles = [...titles];\r\n                    ntitles.push(\"asd\")\r\n                    setTitles(ntitles)\r\n                  }} style={{ background: \"orange\" }}>{i + 1}{c}</button>\r\n\r\n                })\r\n              }}\r\n              rowTitleWidth={widthtitle}\r\n              headRow={(columnCount) => {\r\n                console.log()\r\n                var z = [];\r\n                var x = new Date();\r\n                for (var i = 0; i < columnCount; i++) {\r\n                  var y = x.getDate();\r\n                  z.push(y);\r\n                  x.setDate(y + 1)\r\n\r\n                }\r\n\r\n                return z;\r\n\r\n                /* return headRow.map((r) => {\r\n                   return <div onClick={() => { setWidthtitle(widthtitle + 10) }}>{r}</div>\r\n           \r\n                 })*/\r\n              }}\r\n              mouseLeaveGrid={() => { doneEditing() }}\r\n              mouseUpCell={(props) => {\r\n\r\n\r\n                let tcontent = { ...content }\r\n                tcontent[`r${props.cell.row}c${props.cell.column}`] = <div style={{ background: \"purple\" }}>test</div>;\r\n                setContent(tcontent)\r\n\r\n                doneEditing()\r\n              }}\r\n              mouseEnterCell={(props) => {\r\n\r\n                const nBars = resizeBar(bars, props)\r\n\r\n                nBars.forEach((bar) => {\r\n                  editBar(bar)\r\n                })\r\n              }\r\n\r\n              }\r\n              mouseDownCell={(props) => {\r\n\r\n\r\n                console.log(props)\r\n\r\n                let newbar = createBar(props.dimension, props.cell);\r\n                addBar(newbar)\r\n              }\r\n              }\r\n              mouseCellDrop={(props) => { moveBar(props.cell) }}\r\n              width={document.documentElement.clientWidth}\r\n              height={height}\r\n              content={content}\r\n              dimension={dimension}\r\n              mouseDragOverCell={(props) => {\r\n\r\n                hoverBar(props.cell)\r\n              }}\r\n            >\r\n              {({ rowCount, rowTitleWidth, dimension }) => {\r\n\r\n                return bars.map((bar) => {\r\n\r\n                  return (rowCount > bar.row) && <Bar key={bar.id}\r\n                    {...bar}\r\n                    dimension={dimension}\r\n                    onDragStart={() => { editBar({ ...bar, dragging: true }) }}\r\n                    onContextMenu={(event) => {\r\n                      event.preventDefault();\r\n                      setSelectedBar(bar)\r\n                      setContextMenuState({ visible: true, top: event.clientY, left: event.clientX })\r\n                    }}\r\n\r\n                    onMouseOver={() => { }}\r\n                    style={{ ...bar.style, ...getPosition(rowTitleWidth, bar.row, bar.column, dimension) }}\r\n\r\n                  >\r\n\r\n                    <span style={{ position: \"absolute\" }}>{bar.children}{bar.collisions && (Object.keys(bar.collisions).length > 0) && <span>Collision detected</span>}</span>\r\n                  </Bar>\r\n\r\n                })\r\n\r\n              }}\r\n\r\n            </Reserver>\r\n            <SimpleContextMenu className=\"cmenu\" {...contextMenuState}>\r\n\r\n              <ContextMenuItem onClick={() => { editBar({ ...selectedBar, draggable: !selectedBar.draggable }); setContextMenuState({ visibile: false }) }} >{selectedBar.draggable ? \"Disable\" : \"Enable\"} Drag</ContextMenuItem>\r\n              <ContextMenuItem onClick={() => { deleteBar(selectedBar); setContextMenuState({ visibile: false }) }}>Delete</ContextMenuItem>\r\n\r\n            </SimpleContextMenu>\r\n          </Route>\r\n          <Route  path={process.env.PUBLIC_URL + '/basic'}>\r\n            <Basic />\r\n          </Route>\r\n          <Route  path={process.env.PUBLIC_URL + '/'}>\r\n            Start here\r\n          </Route>\r\n        </Switch>\r\n\r\n      </div>\r\n    </div>\r\n  </Router>\r\n}\r\n\r\nexport default App\r\n","import { useReducer } from 'react'\nimport actionTypes from './actionTypes'\nfunction useReserver(reducer, initialState) {\n  const [{ bars, isEditing }, dispatch] = useReducer(reducer, {\n    bars: initialState,\n    isEditing: false\n  })\n\n  const addBar = (props) => {\n    return dispatch({ payload: props, type: actionTypes.add })\n  }\n\n  const editBar = (props) => {\n    return dispatch({ payload: props, type: actionTypes.edit })\n  }\n\n  const deleteBar = (props) => {\n    return dispatch({ payload: props, type: actionTypes.delete })\n  }\n\n  const doneEditing = (props) => {\n    return dispatch({ type: actionTypes.doneEditing })\n  }\n\n  const addToEditing = (props) => {\n    return dispatch({ payload: props, type: actionTypes.addToEditing })\n  }\n\n  return {\n    bars,\n    isEditing,\n    addBar,\n    editBar,\n    doneEditing,\n    deleteBar,\n    addToEditing\n  }\n}\nexport default useReserver\n","import './index.css'\r\n\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}